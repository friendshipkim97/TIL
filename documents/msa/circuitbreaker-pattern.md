# MSA

## 서킷브레이커패턴이란?

여러 개의 서비스로 이루어진 시스템은 하나의 서비스의 장애 발생 시 다른 서비스가 영향을 받을 수 있기 때문에 이를 해결하기 위한 방법이 서킷 브레이커 패턴이다. 

예를 들어 서비스 A에서 서비스 B를 호출하면, 서비스 B가 장애가 발생한 경우 서비스 A에서는 계속 대기하는 상황이 발생할 수 있다. 이런 상황에서는 사용자가 시스템이 느려졌다고 생각할 수 있다. 서킷 브레이커 패턴은 이런 상황에서 서비스 B에 대해 실패 횟수가 특정 임계 값을 넘으면 차단기가 작동해 서비스를 호출하는 것을 실패하게 만든다. 이후 폴백처리를 설정해 놓으면 서비스 A에서는 서비스 B의 장애가 복구되었을 때 호출을 정상화하고 이때 서비스 A를 사용하는 사용자는 장애인지 모르게 자연스럽게 진행된다. 

정리하자면 서킷 브레이커 패턴이란, 특정 시스템에 문제가 생겼을 때 다른 정상적인 서비스로 요청이 변경되게 하는 것이다. 서킷 브레이커 패턴을 위해 서비스가 실시간으로 모니터링 할 수 있어야 되고 서비스의 장애가 발생하면 다른 서비스로 장애가 전이되지 않도록 한다.
![](https://engineering-skcc.github.io/assets/images/MSA2.21.png)
[참조] https://engineering-skcc.github.io/microservice%20outer%20achitecture/outer-arch-Circuit-breaker/